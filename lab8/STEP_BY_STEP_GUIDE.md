# Пошаговое руководство по работе с Car Inventory API

## 1. Запуск проекта

Откройте терминал и выполните команду в директории проекта:
```bash
docker-compose up -d
```

Дождитесь запуска всех сервисов. Проверить статус можно командой:
```bash
docker-compose ps
```

Все сервисы должны быть в статусе "Up".

## 2. Создание нового автомобиля

### Способ 1: Использование curl в терминале

Команда состоит из нескольких частей:

```bash
curl -X POST http://localhost:5001/cars \
  -H "Content-Type: application/json" \
  -d '{"make": "Toyota", "model": "Camry", "year": 2020}'
```

**Разбор команды:**
- `curl` - утилита для отправки HTTP-запросов
- `-X POST` - указывает метод HTTP (POST для создания)
- `http://localhost:5001/cars` - адрес API-эндпоинта для создания автомобилей
- `-H "Content-Type: application/json"` - заголовок, указывающий, что мы отправляем JSON-данные
- `-d '{...}'` - данные, которые мы отправляем в теле запроса

**Поля автомобиля:**
- `"make"` - марка автомобиля (обязательное поле)
- `"model"` - модель автомобиля (обязательное поле)
- `"year"` - год выпуска (обязательное поле)

Откройте новый терминал и выполните команду:
```bash
curl -X POST http://localhost:5001/cars \
  -H "Content-Type: application/json" \
  -d '{"make": "Toyota", "model": "Camry", "year": 2020}'
```

### Способ 2: Использование любого API-клиента (Postman, Insomnia, etc.)

Если у вас установлен Postman или другой API-клиент:
1. Откройте API-клиент
2. Выберите метод POST
3. Введите URL: `http://localhost:5001/cars`
4. Перейдите на вкладку "Headers"
5. Добавьте заголовок:
   - Key: `Content-Type`
   - Value: `application/json`
6. Перейдите на вкладку "Body" или "Тело запроса"
7. Выберите "raw" и JSON в выпадающем списке
8. Введите тело запроса:
```json
{
  "make": "Toyota",
  "model": "Camry",
  "year": 2020
}
```
9. Нажмите "Send" или "Отправить"

### Способ 3: Использование веб-браузера с расширением

Если у вас нет API-клиента, вы можете использовать расширения для браузера:
- Для Chrome: "REST Client" или "Advanced REST client"
- Для Firefox: "RESTClient"

Или просто используйте команды curl в терминале, как показано в Способе 1.

### Что нужно знать:
- `make` - марка автомобиля (обязательное поле)
- `model` - модель автомобиля (обязательное поле)
- `year` - год выпуска (обязательное поле)
- Все поля должны быть заполнены

## 3. Просмотр всех автомобилей

### В терминале:
```bash
curl http://localhost:5001/cars
```

### В Postman:
1. Выберите метод GET
2. Введите URL: `http://localhost:5001/cars`
3. Нажмите "Send"

## 4. Просмотр конкретного автомобиля

После создания автомобиля вы получите его ID. Замените `{id}` на реальный ID автомобиля.

### В терминале:
curl http://localhost:5001/cars/1
```

### В API-клиенте (Postman, etc.):
1. Выберите метод GET
2. Введите URL: `http://localhost:5001/cars/1` (замените 1 на нужный ID)
3. Нажмите "Send"

## 5. Обновление информации об автомобиле

Замените `{id}` на реальный ID автомобиля, информацию которого хотите изменить.

### В терминале:
curl -X PUT http://localhost:5001/cars/1 \
  -H "Content-Type: application/json" \
  -d '{"year": 2022}'
```

### В Postman:
1. Выберите метод PUT
2. Введите URL: `http://localhost:5001/cars/1` (замените 1 на нужный ID)
3. Добавьте заголовок `Content-Type: application/json`
4. В тело запроса введите нужные изменения в формате JSON

## 6. Удаление автомобиля

Замените `{id}` на реальный ID автомобиля, который хотите удалить.

### В терминале:
```bash
curl -X DELETE http://localhost:5001/cars/1
```

### В API-клиенте:
1. Выберите метод DELETE
2. Введите URL: `http://localhost:5001/cars/1` (замените 1 на нужный ID)
3. Нажмите "Send"

## 7. Проверка состояния системы

### Проверка работоспособности:
```bash
curl http://localhost:5001/health
```

### Просмотр статистики запросов:
```bash
curl http://localhost:5001/stats
```

## Примеры успешных операций

### Создание автомобиля:
```json
{
  "id": 1,
  "make": "Toyota",
  "model": "Camry",
  "year": 2020
}
```

### Получение списка автомобилей:
```json
[
  {
    "id": 1,
    "make": "Toyota",
    "model": "Camry",
    "year": 2020
  }
]
```

## Ошибки и их решение

### 400 Bad Request - неправильные данные:
Убедитесь, что все обязательные поля заполнены и типы данных корректны.

### 404 Not Found - автомобиль не найден:
Проверьте правильность ID в URL.

### 500 Internal Server Error - внутренняя ошибка:
Проверьте логи сервисов командой `docker-compose logs web`.

## Остановка проекта

Когда закончите работу, остановите все сервисы:
```bash
docker-compose down